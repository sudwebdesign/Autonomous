(function(w,d){var g=Array.prototype.indexOf?function(a,b,c){return a.indexOf(b,c)}:function(a,b,c){var j=a.length;for(var i=(c?c:0),j;i<j;i++)if(a[i]===b)return i;return-1};var h;var l=function(a){if(!h)h=(new Date().getTime()).toString();if(a.indexOf('_t=')<0&&a.indexOf('://')<0)a+=(a.indexOf('?')<0?'?':'&')+'_t='+h;return a};var n=[{},{}];var p=[];var q=[];var r={};var t={dev:false,async:true,xdom:'/x-dom/',path:'js/',pathDetection:true,pathSuffix:'.js',config:function(k,v){if(arguments.length==2){t[k]=v}else if(arguments.length){if(typeof(k)=='object'){if(k instanceof Array)for(var i=0;i<k.length;i++)t.config(k[i]);else for(var a in k)t.config(a,k[a])}else return t[k]}else return t}};var z=function(u){if(g(q,u)>-1)A(u);else setTimeout(function(){z(u)},100)};var A=function(u){if(r[u])while(r[u].length)(r[u].shift())()};var B=function(u){return u?(t.path&&u.indexOf('://')<0&&u.indexOf('/')!==0&&(!t.pathDetection||u.indexOf(t.path)!=0)?(t.path+u):u)+(t.pathSuffix&&u.indexOf('://')<0&&(!t.pathDetection||u.substr(u.length-t.pathSuffix.length)!=t.pathSuffix)?t.pathSuffix:''):u};var C=function(u){var s=d.createElement('script');d.type='text/javascript';d.body.appendChild(s);var a=function(){p.push(u);A(u);q.push(u)};s.onload=a;s.onreadystatechange=function(){if(a&&(this.readyState=='complete'||this.readyState==='loaded')){a();a=null}};s.setAttribute('async','async');s.src=t.dev?l(u):u};var x=function(u,c){if(!u){if(typeof(c)=='function')c();return}u=B(u);if(!r[u]){r[u]=[];C(u)}if(typeof(c)=='function')r[u].push(c);if(g(q,u)>-1)A(u);else if(g(p,u)>-1)z(u)};var D=[];var E=function(a,s,c,i){var u=[];for(var k in a)u.push(B(a[k]));u=u.sort().toString();$js(s,function(){D[i].push(B(s));if(D[i].sort().toString()==u)c()},0)};var F=function(u,c){if(c){D.push([]);for(var i in u)E(u,u[i],c,D.length-1)}else{for(var i in u)$js(u[i],0)}};var G=function(u,c){var a='';for(var i in u.reverse())a='$js("'+u[i]+'"'+(a?',function(){'+a+'}':(c?',c':''))+',1);';eval(a)};var H=function(u,c){if(c){D.push([]);for(var k in u)E(u,u[k],c,D.length-1)}else{for(var k in u)$js(k,u[k],0)}};var I=function(u,c){if(c){var a=[];for(var k in u)a.push(k);$js(a,function(){for(var k in u)if(u[k])u[k]();c()},1)}else{var b='';for(var k in u.reverse())b='$js("'+k+'"'+(b?',function(){'+b+'}':(u[k]?',u["'+k+'"]':''))+',1);';eval(b)}};var J=function(u,c,m){m=m?0:1;u=B(u);if(!n[m][u])n[m][u]=[];if(typeof(c)=='function')n[m][u].push(c)};$js=function(){if(!arguments.length)return t;var u,c,sync=!t.async;for(var i in arguments){switch(typeof(arguments[i])){case'boolean':sync=arguments[i];break;case'function':c=arguments[i];break;case'string':case'object':u=arguments[i];break}}if(typeof(u)=='object'){if(u instanceof Array){if(sync)G(u,c);else F(u,c)}else{if(sync)I(u,c);else H(u,c)}}else{if(typeof(u)=='function'){c=u;u=0}J(u,c,!sync)}return function(){var a=arguments;return $js(u,function(){$js.apply(null,a)})}};var y={};var K=function(m,k){var s=n[m][k];if(!m){if(k){x(k,function(){for(var i in s)if(s[i])s[i]()})}else{for(var i in s)if(s[i])s[i]()}}else{if(!y[k])y[k]=[];y[k]=s}};var L=function(o){var a=[];for(var k in o)a.push(k);return a};var M={dev:false,path:'css/',pathDetection:true,pathSuffix:'.css',config:function(k,v){if(arguments.length==2){t[k]=v}else if(arguments.length){if(typeof(k)=='object'){if(k instanceof Array)for(var i=0;i<k.length;i++)t.config(k[i]);else for(var a in k)t.config(a,k[a])}else return t[k]}else return t}};var N=function(u){return u?(M.path&&u.indexOf('://')<0&&u.indexOf('/')!==0&&(!M.pathDetection||u.indexOf(M.path)!=0)?(M.path+u):u)+(M.pathSuffix&&u.indexOf('://')<0&&(!M.pathDetection||u.substr(u.length-M.pathSuffix.length)!=M.pathSuffix)?M.pathSuffix:''):u};var O=[];$css=function(a,b){if(typeof(a)=='undefined')return M;var c=a;a=N(a);if(g(O,a)<0){O.push(a);var e=d.getElementsByTagName('link'),i=e.length,style;var f=false;while(i--){if(e[i].href.indexOf(a)>-1)f=true}if(!f){style=d.createElement('link');style.type='text/css';style.rel='stylesheet';if(b)style.media=b;style.href=M.dev?l(a):a;d.getElementsByTagName('head')[0].appendChild(style)}}return M};w.getElementsByXDom=function(){var a=[];var b=d.getElementsByTagName('*');var c=new RegExp('(?:[a-z][a-z]+)-(?:[a-z][a-z]+)',['i']);for(var i=0;i<b.length;i++)if(b[i].getAttribute('is')||(b[i].tagName&&c.test(b[i].tagName)))a.push(b[i]);return a};var P=function(){var a=w.getElementsByXDom();var b=[];for(var k in a){var c=a[k].getAttribute('is');if(!c)c=a[k].tagName;var u=(t.xdom===true?'':t.xdom)+c.toLowerCase();if(g(b,u)<0)b.push(u)}$js(b,true)};var Q=function(){J=x;if(t.xdom)P();for(var k in n[0])K(0,k);for(var k in n[1])K(1,k);var a='';var b=L(y).reverse();for(var u in b){u=b[u];var c=L(y[u]).reverse();var d='';for(var i in c)if(y[u]&&y[u][i])d+='y["'+u+'"]["'+i+'"]();';a='x("'+u+'"'+(a?',function(){'+d+a+'}':'')+');'}if(a)eval(a)};if(w.addEventListener)w.addEventListener('load',Q,false);else if(w.attachEvent)w.attachEvent('onload',Q);else w.onload=Q})(window,document);
